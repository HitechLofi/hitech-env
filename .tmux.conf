set -s escape-time 1
set -g base-index 1
set -g focus-events on
set-option -ga terminal-overrides ",xterm-256color:Tc"
set -g default-terminal "screen-256color"

unbind C-b
set -g prefix C-a

bind H resize-pane -L 15
bind L resize-pane -R 15
bind K resize-pane -U 5
bind J resize-pane -D 5

# In case the smart pane switching breaks
bind h select-pane -L
bind l select-pane -R
bind k select-pane -U
bind j select-pane -D

# Smart pane switching with awareness of Vim splits.
# See: https://github.com/christoomey/vim-tmux-navigator
is_vim="ps -o state= -o comm= -t '#{pane_tty}' \
    | grep -iqE '^[^TXZ ]+ +(\\S+\\/)?g?(view|n?vim?x?)(diff)?$'"
bind-key -n C-h if-shell "$is_vim" "send-keys C-h"  "select-pane -L"
bind-key -n C-j if-shell "$is_vim" "send-keys C-j"  "select-pane -D"
bind-key -n C-k if-shell "$is_vim" "send-keys C-k"  "select-pane -U"
bind-key -n C-l if-shell "$is_vim" "send-keys C-l"  "select-pane -R"
bind-key -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"

# Vim smart cursor
set -ga terminal-overrides ',*:Ss=\E[%p1%d q:Se=\E[2 q'

unbind o
bind-key o swap-window -t -1
bind-key n next-window
bind-key u last-window
unbind p
bind-key p previous-window
# bind-key u display-panes \; select-pane -t :.

# copy paste mode like vim
# unbind [
# bind Escape copy-mode
# unbind p
# bind p paste-buffer
# bind-key -t vi-copy 'v' begin-selection
# bind-key -t vi-copy 'y' copy-selection

# split panes using \ and -
bind \ split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind t
bind t new-window -c "#{pane_current_path}"
unbind '"'
unbind %
unbind c
bind c confirm-before kill-pane
unbind x

# reload config file (change file location to your the tmux.conf you want to use)
bind r source-file ~/.tmux.conf

setw -g mode-keys vi

# Copy paste tmux and iterm and vim
# set -g default-shell $SHELL
# set -g default-command "reattach-to-user-namespace -l ${SHELL}"

######################
### DESIGN CHANGES ###
######################

# loud or quiet?
set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity off
set-option -g bell-action none

# The modes
setw -g clock-mode-colour colour135
setw -g mode-attr bold
setw -g mode-fg colour196
setw -g mode-bg default

# The panes
set -g pane-border-bg default
set -g pane-border-fg colour240
set -g pane-active-border-bg default
set -g pane-active-border-fg brightblue
# set -g pane-active-border-fg colour51

# The statusbar
set -g status-justify right
set -g status-interval 10
set -g status-position bottom
set -g status-bg default
set -g status-fg colour137
set -g status-attr none
set -g status-right-length 120
set -g status-left-length 80

# set -g status-left '#[fg=brightgreen,bold]High tech #[fg=brightblue,bold] low life#[fg=brightgreen] '
set -g status-left '#[fg=colour99]Like tears #[fg=colour39]in the rain'
# set -g status-left ''

# dark theme
set -g status-right '#[fg=colour45]- #[fg=colour141]%h %d %Y #[fg=colour206,bold]%l:%M %p#[default]#[fg=colour45] -'

# light theme
# set -g status-right '#[fg=blue,bold]- #[fg=#6644aa]%h %d %Y #[fg=blue,bold]-#[fg=colour232] #[fg=brightgreen]%l:%M %p#[default]#[fg=blue,bold] -'

# no ips
# set -g status-left ' #[fg=brightgreen]High tech #[fg=brightblue] low life#[fg=brightgreen]  ☕️  '

setw -g window-status-current-fg colour242
setw -g window-status-current-bg default
setw -g window-status-current-attr bold
# dark theme
setw -g window-status-current-format ' #[fg=colour45]> #[fg=colour255]#W#[fg=blue] '
setw -g window-status-format ' #[fg=colour60]#I #[fg=colour60]#W '

# light theme
# setw -g window-status-current-format ' #[fg=blue]#[fg=brightblue]>#[fg=#8866cc] #W#[fg=blue] #[fg=colour81]#[fg=colour50]'
# setw -g window-status-format ' #[fg=#6644aa]#I #[fg=#6644aa]#W #[fg=colour242]#[fg=colour244]'

setw -g window-status-fg colour138
setw -g window-status-bg default
setw -g window-status-attr none
setw -g window-status-bell-attr bold
setw -g window-status-bell-fg colour255
setw -g window-status-bell-bg default

# The messages
set -g message-attr bold
set -g message-fg red
set -g message-bg default
set -g message-command-fg blue
set -g message-command-bg default

set-option -g set-titles on
set-option -g set-titles-string '#H:#S.#I.#P #W #T' # window number,program name, active(or not)
